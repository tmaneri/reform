var Na=Object.defineProperty,Ua=Object.defineProperties;var za=Object.getOwnPropertyDescriptors;var Zr=Object.getOwnPropertySymbols;var Ba=Object.prototype.hasOwnProperty,Ha=Object.prototype.propertyIsEnumerable;var Jr=(p,g,v)=>g in p?Na(p,g,{enumerable:!0,configurable:!0,writable:!0,value:v}):p[g]=v,N=(p,g)=>{for(var v in g||(g={}))Ba.call(g,v)&&Jr(p,v,g[v]);if(Zr)for(var v of Zr(g))Ha.call(g,v)&&Jr(p,v,g[v]);return p},ur=(p,g)=>Ua(p,za(g));(function(p,g){typeof exports=="object"&&typeof module!="undefined"?g(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],g):(p=typeof globalThis!="undefined"?globalThis:p||self,g(p["@tmaneri/reform"]={},p.Vue))})(this,function(p,g){"use strict";var v=typeof global=="object"&&global&&global.Object===Object&&global,fr=v,Qr=typeof self=="object"&&self&&self.Object===Object&&self,Vr=fr||Qr||Function("return this")(),T=Vr,kr=T.Symbol,P=kr,cr=Object.prototype,re=cr.hasOwnProperty,ee=cr.toString,D=P?P.toStringTag:void 0;function te(r){var e=re.call(r,D),t=r[D];try{r[D]=void 0;var n=!0}catch{}var i=ee.call(r);return n&&(e?r[D]=t:delete r[D]),i}var ne=Object.prototype,ae=ne.toString;function ie(r){return ae.call(r)}var oe="[object Null]",se="[object Undefined]",lr=P?P.toStringTag:void 0;function R(r){return r==null?r===void 0?se:oe:lr&&lr in Object(r)?te(r):ie(r)}function x(r){return r!=null&&typeof r=="object"}var ue="[object Symbol]";function Y(r){return typeof r=="symbol"||x(r)&&R(r)==ue}function fe(r,e){for(var t=-1,n=r==null?0:r.length,i=Array(n);++t<n;)i[t]=e(r[t],t,r);return i}var ce=Array.isArray,A=ce,le=1/0,pr=P?P.prototype:void 0,dr=pr?pr.toString:void 0;function gr(r){if(typeof r=="string")return r;if(A(r))return fe(r,gr)+"";if(Y(r))return dr?dr.call(r):"";var e=r+"";return e=="0"&&1/r==-le?"-0":e}function Z(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}function pe(r){return r}var de="[object AsyncFunction]",ge="[object Function]",he="[object GeneratorFunction]",ye="[object Proxy]";function hr(r){if(!Z(r))return!1;var e=R(r);return e==ge||e==he||e==de||e==ye}var _e=T["__core-js_shared__"],J=_e,yr=function(){var r=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function ve(r){return!!yr&&yr in r}var be=Function.prototype,Te=be.toString;function S(r){if(r!=null){try{return Te.call(r)}catch{}try{return r+""}catch{}}return""}var Ae=/[\\^$.*+?()[\]{}|]/g,$e=/^\[object .+?Constructor\]$/,Oe=Function.prototype,we=Object.prototype,Pe=Oe.toString,me=we.hasOwnProperty,Se=RegExp("^"+Pe.call(me).replace(Ae,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ee(r){if(!Z(r)||ve(r))return!1;var e=hr(r)?Se:$e;return e.test(S(r))}function Ie(r,e){return r==null?void 0:r[e]}function E(r,e){var t=Ie(r,e);return Ee(t)?t:void 0}var je=E(T,"WeakMap"),Q=je,Ce=function(){try{var r=E(Object,"defineProperty");return r({},"",{}),r}catch{}}(),_r=Ce,Me=9007199254740991,Re=/^(?:0|[1-9]\d*)$/;function vr(r,e){var t=typeof r;return e=e==null?Me:e,!!e&&(t=="number"||t!="symbol"&&Re.test(r))&&r>-1&&r%1==0&&r<e}function xe(r,e,t){e=="__proto__"&&_r?_r(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}function br(r,e){return r===e||r!==r&&e!==e}var De=9007199254740991;function V(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=De}function Le(r){return r!=null&&V(r.length)&&!hr(r)}var Fe=Object.prototype;function Ge(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||Fe;return r===t}function Ne(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}var Ue="[object Arguments]";function Tr(r){return x(r)&&R(r)==Ue}var Ar=Object.prototype,ze=Ar.hasOwnProperty,Be=Ar.propertyIsEnumerable,He=Tr(function(){return arguments}())?Tr:function(r){return x(r)&&ze.call(r,"callee")&&!Be.call(r,"callee")},$r=He;function Ke(){return!1}var Or=typeof p=="object"&&p&&!p.nodeType&&p,wr=Or&&typeof module=="object"&&module&&!module.nodeType&&module,qe=wr&&wr.exports===Or,Pr=qe?T.Buffer:void 0,Xe=Pr?Pr.isBuffer:void 0,We=Xe||Ke,k=We,Ye="[object Arguments]",Ze="[object Array]",Je="[object Boolean]",Qe="[object Date]",Ve="[object Error]",ke="[object Function]",rt="[object Map]",et="[object Number]",tt="[object Object]",nt="[object RegExp]",at="[object Set]",it="[object String]",ot="[object WeakMap]",st="[object ArrayBuffer]",ut="[object DataView]",ft="[object Float32Array]",ct="[object Float64Array]",lt="[object Int8Array]",pt="[object Int16Array]",dt="[object Int32Array]",gt="[object Uint8Array]",ht="[object Uint8ClampedArray]",yt="[object Uint16Array]",_t="[object Uint32Array]",d={};d[ft]=d[ct]=d[lt]=d[pt]=d[dt]=d[gt]=d[ht]=d[yt]=d[_t]=!0,d[Ye]=d[Ze]=d[st]=d[Je]=d[ut]=d[Qe]=d[Ve]=d[ke]=d[rt]=d[et]=d[tt]=d[nt]=d[at]=d[it]=d[ot]=!1;function vt(r){return x(r)&&V(r.length)&&!!d[R(r)]}function bt(r){return function(e){return r(e)}}var mr=typeof p=="object"&&p&&!p.nodeType&&p,L=mr&&typeof module=="object"&&module&&!module.nodeType&&module,Tt=L&&L.exports===mr,rr=Tt&&fr.process,At=function(){try{var r=L&&L.require&&L.require("util").types;return r||rr&&rr.binding&&rr.binding("util")}catch{}}(),Sr=At,Er=Sr&&Sr.isTypedArray,$t=Er?bt(Er):vt,Ir=$t,Ot=Object.prototype,wt=Ot.hasOwnProperty;function Pt(r,e){var t=A(r),n=!t&&$r(r),i=!t&&!n&&k(r),a=!t&&!n&&!i&&Ir(r),s=t||n||i||a,u=s?Ne(r.length,String):[],l=u.length;for(var c in r)(e||wt.call(r,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||vr(c,l)))&&u.push(c);return u}function mt(r,e){return function(t){return r(e(t))}}var St=mt(Object.keys,Object),Et=St,It=Object.prototype,jt=It.hasOwnProperty;function Ct(r){if(!Ge(r))return Et(r);var e=[];for(var t in Object(r))jt.call(r,t)&&t!="constructor"&&e.push(t);return e}function er(r){return Le(r)?Pt(r):Ct(r)}var Mt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rt=/^\w*$/;function tr(r,e){if(A(r))return!1;var t=typeof r;return t=="number"||t=="symbol"||t=="boolean"||r==null||Y(r)?!0:Rt.test(r)||!Mt.test(r)||e!=null&&r in Object(e)}var xt=E(Object,"create"),F=xt;function Dt(){this.__data__=F?F(null):{},this.size=0}function Lt(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}var Ft="__lodash_hash_undefined__",Gt=Object.prototype,Nt=Gt.hasOwnProperty;function Ut(r){var e=this.__data__;if(F){var t=e[r];return t===Ft?void 0:t}return Nt.call(e,r)?e[r]:void 0}var zt=Object.prototype,Bt=zt.hasOwnProperty;function Ht(r){var e=this.__data__;return F?e[r]!==void 0:Bt.call(e,r)}var Kt="__lodash_hash_undefined__";function qt(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=F&&e===void 0?Kt:e,this}function I(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}I.prototype.clear=Dt,I.prototype.delete=Lt,I.prototype.get=Ut,I.prototype.has=Ht,I.prototype.set=qt;function Xt(){this.__data__=[],this.size=0}function U(r,e){for(var t=r.length;t--;)if(br(r[t][0],e))return t;return-1}var Wt=Array.prototype,Yt=Wt.splice;function Zt(r){var e=this.__data__,t=U(e,r);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():Yt.call(e,t,1),--this.size,!0}function Jt(r){var e=this.__data__,t=U(e,r);return t<0?void 0:e[t][1]}function Qt(r){return U(this.__data__,r)>-1}function Vt(r,e){var t=this.__data__,n=U(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this}function $(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}$.prototype.clear=Xt,$.prototype.delete=Zt,$.prototype.get=Jt,$.prototype.has=Qt,$.prototype.set=Vt;var kt=E(T,"Map"),G=kt;function rn(){this.size=0,this.__data__={hash:new I,map:new(G||$),string:new I}}function en(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function z(r,e){var t=r.__data__;return en(e)?t[typeof e=="string"?"string":"hash"]:t.map}function tn(r){var e=z(this,r).delete(r);return this.size-=e?1:0,e}function nn(r){return z(this,r).get(r)}function an(r){return z(this,r).has(r)}function on(r,e){var t=z(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this}function O(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}O.prototype.clear=rn,O.prototype.delete=tn,O.prototype.get=nn,O.prototype.has=an,O.prototype.set=on;var sn="Expected a function";function nr(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(sn);var t=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=t.cache;if(a.has(i))return a.get(i);var s=r.apply(this,n);return t.cache=a.set(i,s)||a,s};return t.cache=new(nr.Cache||O),t}nr.Cache=O;var un=500;function fn(r){var e=nr(r,function(n){return t.size===un&&t.clear(),n}),t=e.cache;return e}var cn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ln=/\\(\\)?/g,pn=fn(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(cn,function(t,n,i,a){e.push(i?a.replace(ln,"$1"):n||t)}),e}),dn=pn;function gn(r){return r==null?"":gr(r)}function jr(r,e){return A(r)?r:tr(r,e)?[r]:dn(gn(r))}var hn=1/0;function B(r){if(typeof r=="string"||Y(r))return r;var e=r+"";return e=="0"&&1/r==-hn?"-0":e}function Cr(r,e){e=jr(e,r);for(var t=0,n=e.length;r!=null&&t<n;)r=r[B(e[t++])];return t&&t==n?r:void 0}function yn(r,e,t){var n=r==null?void 0:Cr(r,e);return n===void 0?t:n}function _n(r,e){for(var t=-1,n=e.length,i=r.length;++t<n;)r[i+t]=e[t];return r}function vn(){this.__data__=new $,this.size=0}function bn(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}function Tn(r){return this.__data__.get(r)}function An(r){return this.__data__.has(r)}var $n=200;function On(r,e){var t=this.__data__;if(t instanceof $){var n=t.__data__;if(!G||n.length<$n-1)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new O(n)}return t.set(r,e),this.size=t.size,this}function w(r){var e=this.__data__=new $(r);this.size=e.size}w.prototype.clear=vn,w.prototype.delete=bn,w.prototype.get=Tn,w.prototype.has=An,w.prototype.set=On;function wn(r,e){for(var t=-1,n=r==null?0:r.length,i=0,a=[];++t<n;){var s=r[t];e(s,t,r)&&(a[i++]=s)}return a}function Pn(){return[]}var mn=Object.prototype,Sn=mn.propertyIsEnumerable,Mr=Object.getOwnPropertySymbols,En=Mr?function(r){return r==null?[]:(r=Object(r),wn(Mr(r),function(e){return Sn.call(r,e)}))}:Pn,In=En;function jn(r,e,t){var n=e(r);return A(r)?n:_n(n,t(r))}function Rr(r){return jn(r,er,In)}var Cn=E(T,"DataView"),ar=Cn,Mn=E(T,"Promise"),ir=Mn,Rn=E(T,"Set"),or=Rn,xr="[object Map]",xn="[object Object]",Dr="[object Promise]",Lr="[object Set]",Fr="[object WeakMap]",Gr="[object DataView]",Dn=S(ar),Ln=S(G),Fn=S(ir),Gn=S(or),Nn=S(Q),j=R;(ar&&j(new ar(new ArrayBuffer(1)))!=Gr||G&&j(new G)!=xr||ir&&j(ir.resolve())!=Dr||or&&j(new or)!=Lr||Q&&j(new Q)!=Fr)&&(j=function(r){var e=R(r),t=e==xn?r.constructor:void 0,n=t?S(t):"";if(n)switch(n){case Dn:return Gr;case Ln:return xr;case Fn:return Dr;case Gn:return Lr;case Nn:return Fr}return e});var Nr=j,Un=T.Uint8Array,Ur=Un,zn="__lodash_hash_undefined__";function Bn(r){return this.__data__.set(r,zn),this}function Hn(r){return this.__data__.has(r)}function H(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new O;++e<t;)this.add(r[e])}H.prototype.add=H.prototype.push=Bn,H.prototype.has=Hn;function Kn(r,e){for(var t=-1,n=r==null?0:r.length;++t<n;)if(e(r[t],t,r))return!0;return!1}function qn(r,e){return r.has(e)}var Xn=1,Wn=2;function zr(r,e,t,n,i,a){var s=t&Xn,u=r.length,l=e.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(r),y=a.get(e);if(c&&y)return c==e&&y==r;var f=-1,o=!0,h=t&Wn?new H:void 0;for(a.set(r,e),a.set(e,r);++f<u;){var _=r[f],b=e[f];if(n)var m=s?n(b,_,f,e,r,a):n(_,b,f,r,e,a);if(m!==void 0){if(m)continue;o=!1;break}if(h){if(!Kn(e,function(C,M){if(!qn(h,M)&&(_===C||i(_,C,t,n,a)))return h.push(M)})){o=!1;break}}else if(!(_===b||i(_,b,t,n,a))){o=!1;break}}return a.delete(r),a.delete(e),o}function Yn(r){var e=-1,t=Array(r.size);return r.forEach(function(n,i){t[++e]=[i,n]}),t}function Zn(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t}var Jn=1,Qn=2,Vn="[object Boolean]",kn="[object Date]",ra="[object Error]",ea="[object Map]",ta="[object Number]",na="[object RegExp]",aa="[object Set]",ia="[object String]",oa="[object Symbol]",sa="[object ArrayBuffer]",ua="[object DataView]",Br=P?P.prototype:void 0,sr=Br?Br.valueOf:void 0;function fa(r,e,t,n,i,a,s){switch(t){case ua:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case sa:return!(r.byteLength!=e.byteLength||!a(new Ur(r),new Ur(e)));case Vn:case kn:case ta:return br(+r,+e);case ra:return r.name==e.name&&r.message==e.message;case na:case ia:return r==e+"";case ea:var u=Yn;case aa:var l=n&Jn;if(u||(u=Zn),r.size!=e.size&&!l)return!1;var c=s.get(r);if(c)return c==e;n|=Qn,s.set(r,e);var y=zr(u(r),u(e),n,i,a,s);return s.delete(r),y;case oa:if(sr)return sr.call(r)==sr.call(e)}return!1}var ca=1,la=Object.prototype,pa=la.hasOwnProperty;function da(r,e,t,n,i,a){var s=t&ca,u=Rr(r),l=u.length,c=Rr(e),y=c.length;if(l!=y&&!s)return!1;for(var f=l;f--;){var o=u[f];if(!(s?o in e:pa.call(e,o)))return!1}var h=a.get(r),_=a.get(e);if(h&&_)return h==e&&_==r;var b=!0;a.set(r,e),a.set(e,r);for(var m=s;++f<l;){o=u[f];var C=r[o],M=e[o];if(n)var Yr=s?n(M,C,o,e,r,a):n(C,M,o,r,e,a);if(!(Yr===void 0?C===M||i(C,M,t,n,a):Yr)){b=!1;break}m||(m=o=="constructor")}if(b&&!m){var X=r.constructor,W=e.constructor;X!=W&&"constructor"in r&&"constructor"in e&&!(typeof X=="function"&&X instanceof X&&typeof W=="function"&&W instanceof W)&&(b=!1)}return a.delete(r),a.delete(e),b}var ga=1,Hr="[object Arguments]",Kr="[object Array]",K="[object Object]",ha=Object.prototype,qr=ha.hasOwnProperty;function ya(r,e,t,n,i,a){var s=A(r),u=A(e),l=s?Kr:Nr(r),c=u?Kr:Nr(e);l=l==Hr?K:l,c=c==Hr?K:c;var y=l==K,f=c==K,o=l==c;if(o&&k(r)){if(!k(e))return!1;s=!0,y=!1}if(o&&!y)return a||(a=new w),s||Ir(r)?zr(r,e,t,n,i,a):fa(r,e,l,t,n,i,a);if(!(t&ga)){var h=y&&qr.call(r,"__wrapped__"),_=f&&qr.call(e,"__wrapped__");if(h||_){var b=h?r.value():r,m=_?e.value():e;return a||(a=new w),i(b,m,t,n,a)}}return o?(a||(a=new w),da(r,e,t,n,i,a)):!1}function q(r,e,t,n,i){return r===e?!0:r==null||e==null||!x(r)&&!x(e)?r!==r&&e!==e:ya(r,e,t,n,q,i)}var _a=1,va=2;function ba(r,e,t,n){var i=t.length,a=i,s=!n;if(r==null)return!a;for(r=Object(r);i--;){var u=t[i];if(s&&u[2]?u[1]!==r[u[0]]:!(u[0]in r))return!1}for(;++i<a;){u=t[i];var l=u[0],c=r[l],y=u[1];if(s&&u[2]){if(c===void 0&&!(l in r))return!1}else{var f=new w;if(n)var o=n(c,y,l,r,e,f);if(!(o===void 0?q(y,c,_a|va,n,f):o))return!1}}return!0}function Xr(r){return r===r&&!Z(r)}function Ta(r){for(var e=er(r),t=e.length;t--;){var n=e[t],i=r[n];e[t]=[n,i,Xr(i)]}return e}function Wr(r,e){return function(t){return t==null?!1:t[r]===e&&(e!==void 0||r in Object(t))}}function Aa(r){var e=Ta(r);return e.length==1&&e[0][2]?Wr(e[0][0],e[0][1]):function(t){return t===r||ba(t,r,e)}}function $a(r,e){return r!=null&&e in Object(r)}function Oa(r,e,t){e=jr(e,r);for(var n=-1,i=e.length,a=!1;++n<i;){var s=B(e[n]);if(!(a=r!=null&&t(r,s)))break;r=r[s]}return a||++n!=i?a:(i=r==null?0:r.length,!!i&&V(i)&&vr(s,i)&&(A(r)||$r(r)))}function wa(r,e){return r!=null&&Oa(r,e,$a)}var Pa=1,ma=2;function Sa(r,e){return tr(r)&&Xr(e)?Wr(B(r),e):function(t){var n=yn(t,r);return n===void 0&&n===e?wa(t,r):q(e,n,Pa|ma)}}function Ea(r){return function(e){return e==null?void 0:e[r]}}function Ia(r){return function(e){return Cr(e,r)}}function ja(r){return tr(r)?Ea(B(r)):Ia(r)}function Ca(r){return typeof r=="function"?r:r==null?pe:typeof r=="object"?A(r)?Sa(r[0],r[1]):Aa(r):ja(r)}function Ma(r){return function(e,t,n){for(var i=-1,a=Object(e),s=n(e),u=s.length;u--;){var l=s[r?u:++i];if(t(a[l],l,a)===!1)break}return e}}var Ra=Ma(),xa=Ra;function Da(r,e){return r&&xa(r,e,er)}function La(r,e){return q(r,e)}function Fa(r,e){var t={};return e=Ca(e),Da(r,function(n,i,a){xe(t,i,e(n,i,a))}),t}function Ga(r){const e=Object.keys(r).reduce((f,o)=>ur(N({},f),{[o]:r[o].value}),{}),t=g.reactive(N({},e)),n=g.reactive(N({},e)),i=g.reactive(Fa(r,()=>null)),a=()=>Object.assign(n,t),s=()=>{Object.assign(t,n),c()},u=g.computed(()=>Object.keys(r).reduce((f,o)=>(La(n[o],t[o])||(f[o]=t[o]),f),{})),l=Object.keys(r).reduce((f,o)=>ur(N({},f),{[o]:r[o].validate||null}),{}),c=()=>Object.keys(l).reduce((f,o)=>f&&y(o),!0),y=f=>{const o=l[f];return i[f]=(Array.isArray(o)?o:[o]).map(h=>typeof h=="function"?h(t[f],t):h).find(h=>typeof h=="string"),!i[f]};return g.reactive({data:t,changes:u,commit:a,rollback:s,errors:i,validate:c,validateField:y,dirty:g.computed(()=>Object.keys(u.value).length>0),addErrors:f=>{Object.entries(f).forEach(([o,h])=>{const _=Array.isArray(h)?h[0]:h;i[o]=_})}})}p.useReform=Ga,Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
